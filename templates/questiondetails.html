{% extends 'layout.html' %}

{% block content %}
    {% include 'navbar.html' %}

    {% for question in questions %}
        {% if id == question['id'] %}

        <h2 class="mt-4 text-xl-left" style="font-family: 'Fredericka the Great', Tahoma, sans-serif; letter-spacing: 2px; word-spacing: 5px;">{{ question['title'] }}</h1>

        <div class="table-responsive mt-4 mb-4">
            <table class="table table-bordered table-hover table-ligth">
                <thead class="bg-secondary text-white">
                </thead>
                <tbody class="bg-light shadow p-3 mb-5 bg-white rounded">
                    <tr>
                        <td>
                            <div>
                                <span>
                                    <div class="text-sm-left">{{ question['view_number'] }}</div>
                                    <div class="badge badge-info">Views</div>
                                </span>
                            </div>
                        </td>
                        <td>
                            <span>
                                <div class="text-sm-left">{{ question['vote_number'] }}</div>
                                <div class="badge badge-info">Votes</div>
                            </span>
                        </td>
                        <td>
                            <div>
                                <p>{{ question['message'] }}</p>
                            </div>
                            <div><a href="" class="badge badge-secondary">python</a></div>
                            <div class="text-right font-italic" style="font-size: 14px;">{{ question['submission_time'] }}</div>
                        </td>
                        <td>
                            <div class="badge badge-info">Vote</div>
                            <form action="{{ url_for('vote_up_question', question_id=id) }}" method="post">
                                <button type="submit" class="btn btn-primary mb-2">▲</button>
                            </form>
                            <form action="{{ url_for('vote_down_question', question_id=id) }}" method="post">
                                <button type="submit" class="btn btn-primary mb-2">▼</button>
                            </form>
                        </td>
                    </tr>

                </tbody>
            </table>
            {% endif %}
        {% endfor %}
        <br>
        <h2 class="mt-4 text-xl-left" style="font-family: 'Fredericka the Great', Tahoma, sans-serif; letter-spacing: 2px; word-spacing: 5px;">Answers</h2>
        <table class="table table-bordered table-hover table-ligth">
            <tbody class="bg-light shadow p-3 mb-5 bg-white rounded">
                {% for answer in answers %}
                    {% if id == answer['question_id'] %}
                        <tr>
                            <td>
                                <span>
                                    <div class="text-sm-left">{{ answer['vote_number'] }}</div>
                                    <div class="badge badge-info">Votes</div>
                                </span>
                            </td>
                            <td>
                                <div>
                                    <p>{{ answer['message'] }}</p>
                                </div>
                                <div><a href="" class="badge badge-secondary">python</a></div>
                                <div class="text-right font-italic" style="font-size: 14px;">{{ answer['submission_time'] }}</div>
                            </td>
                            <td>
                                <div class="badge badge-info">Vote</div>
                                <form action="{{ url_for('vote_up_answer', question_id=id, answer_id=answer['id']) }}" method="post">
                                    <button type="submit" class="btn btn-primary mb-2">▲</button>
                                </form>
                                <form action="{{ url_for('vote_down_answer', question_id=id, answer_id=answer['id']) }}" method="post">
                                    <button type="submit" class="btn btn-primary mb-2">▼</button>
                                </form>
                            </td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>
        <br>
        <a href="/question/{{ id }}/new-answer" class="btn btn-primary">Post a new answer</a>
    </div>
{% endblock %}
