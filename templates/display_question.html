<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ question[4] }}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='letters.css') }}">
</head>
<body style="background-image: url(/static/background.jpg);">
<style>
/* customizable snowflake styling */
.snowflake {
  color: #fff;
  font-size: 1em;
  font-family: Arial, sans-serif;
  text-shadow: 0 0 5px #000;
}

@-webkit-keyframes snowflakes-fall{0%{top:-10%}100%{top:100%}}@-webkit-keyframes snowflakes-shake{0%,100%{-webkit-transform:translateX(0);transform:translateX(0)}50%{-webkit-transform:translateX(80px);transform:translateX(80px)}}@keyframes snowflakes-fall{0%{top:-10%}100%{top:100%}}@keyframes snowflakes-shake{0%,100%{transform:translateX(0)}50%{transform:translateX(80px)}}.snowflake{position:fixed;top:-10%;z-index:9999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;-webkit-animation-name:snowflakes-fall,snowflakes-shake;-webkit-animation-duration:10s,3s;-webkit-animation-timing-function:linear,ease-in-out;-webkit-animation-iteration-count:infinite,infinite;-webkit-animation-play-state:running,running;animation-name:snowflakes-fall,snowflakes-shake;animation-duration:10s,3s;animation-timing-function:linear,ease-in-out;animation-iteration-count:infinite,infinite;animation-play-state:running,running}.snowflake:nth-of-type(0){left:1%;-webkit-animation-delay:0s,0s;animation-delay:0s,0s}.snowflake:nth-of-type(1){left:10%;-webkit-animation-delay:1s,1s;animation-delay:1s,1s}.snowflake:nth-of-type(2){left:20%;-webkit-animation-delay:6s,.5s;animation-delay:6s,.5s}.snowflake:nth-of-type(3){left:30%;-webkit-animation-delay:4s,2s;animation-delay:4s,2s}.snowflake:nth-of-type(4){left:40%;-webkit-animation-delay:2s,2s;animation-delay:2s,2s}.snowflake:nth-of-type(5){left:50%;-webkit-animation-delay:8s,3s;animation-delay:8s,3s}.snowflake:nth-of-type(6){left:60%;-webkit-animation-delay:6s,2s;animation-delay:6s,2s}.snowflake:nth-of-type(7){left:70%;-webkit-animation-delay:2.5s,1s;animation-delay:2.5s,1s}.snowflake:nth-of-type(8){left:80%;-webkit-animation-delay:1s,0s;animation-delay:1s,0s}.snowflake:nth-of-type(9){left:90%;-webkit-animation-delay:3s,1.5s;animation-delay:3s,1.5s}.snowflake:nth-of-type(10){left:25%;-webkit-animation-delay:2s,0s;animation-delay:2s,0s}.snowflake:nth-of-type(11){left:65%;-webkit-animation-delay:4s,2.5s;animation-delay:4s,2.5s}
</style>
<div class="snowflakes" aria-hidden="true">
  <div class="snowflake">
  ❅
  </div>
  <div class="snowflake">
  ❆
  </div>
  <div class="snowflake">
  ❅
  </div>
  <div class="snowflake">
  ❆
  </div>
  <div class="snowflake">
  ❅
  </div>
  <div class="snowflake">
  ❆
  </div>
  <div class="snowflake">
    ❅
  </div>
  <div class="snowflake">
    ❆
  </div>
  <div class="snowflake">
    ❅
  </div>
  <div class="snowflake">
    ❆
  </div>
  <div class="snowflake">
    ❅
  </div>
  <div class="snowflake">
    ❆
  </div>
</div>
<div style="text-align: center; color: aliceblue"><h1>{{ question[4] }} </h1></div><br>
<form action="/question/{{ question_id }}/delete">
    <button type="submit">Delete Question</button>
</form>
    <p><div style="text-align: center; color: darkslateblue; background-color: rgba(240,248,255, 0.5); font-weight: bold; width: 70%; margin-left: 15%; margin-right: 15%; font-size: 24px" >{{ question[0]['title'] }}</div></p>
    <p><div style="text-align: center; color: darkslateblue; background-color: rgba(240,248,255, 0.5); width: 70%; margin-left: 15%; margin-right: 15%; font-size: 20px" >{{ question[0]['message'] }}</div></p>
    <div class="container">
	    <div class="table-wrap">
            <h2>Question Comments</h2>
    <table class="table">
        <tr>
            <th><h3>Message</h3></th>
            <th><h3>Submission Time</h3></th>
            <th><h3>Edited Count</h3></th>
        </tr>
        {% for comment in comments %}

            <tr>
                <td>{{ comment['message'] }}</td>
                <td>{{ comment['submission_time'] }}</td>
                {% if comment['edited_count'] != None %}
                    <td>Edited {{ comment['edited_count'] }} time(s).</td>
                {% else %}
                    <td>Edited 0 times.</td>
                {% endif %}
                <td><form action="/comment/{{ comment['id'] }}/edit"><button type="submit">Edit Comment</button></form></td>
                <td><form action="/comment/{{ comment['id'] }}/delete"><button type="submit">Delete Comment</button></form></td>
            </tr>
        {% endfor %}
    </table>
    <form action="/question/{{ question_id }}/new-comment">
        <button type="submit">Add New Comment</button>
    </form>
    <h2>Answers</h2>


            {% for item in answers %}
               <table class="table">
                    <tr>
                        <th><h3>ID</h3></th>
                        <th><h3>Submission Time</h3></th>
                        <th><h3>Vote Number</h3></th>
                        <th><h3>Question ID</h3></th>
                        <th><h3>Message</h3></th>
                        <th><h3>Image</h3></th>
                    </tr>
                    <tr>
                        <td>{{ item['id'] }}</td>
                        <td>{{ item['submission_time'] }}</td>
                        <td><form action="/answer/{{ item['id'] }}/vote-up"><button type="submit">∧</button></form>{{ item['vote_number'] }}<form action="/answer/{{ item['id'] }}/vote-down"><button type="submit">v</button></form></td>
                        <td>{{ item['question_id'] }}</td>
                        <td>{{ item['message'] }}</td>
                        <td><a href="{{ item[5] }}"><img src="{{ item['image'] }} " width="150" height="150"></a></td>
                        <td><form action="/answer/{{ item['id'] }}/delete"><button type="submit">Delete Answer</button></form></td>
                        <td><form action="/answer/{{ item['id'] }}/edit">
                                <button type="submit">Edit Answer</button>
                            </form></td>
                    </tr>
               </table>
                <form action="/answer/{{ item['id'] }}/new-comment">
                    <button type="submit">Add New Comment</button>
                </form>
                {% if item['id'] in answer_ids %}
                    <table class="table">
                        <tr>
                            <th><h3>Message</h3></th>
                            <th><h3>Submission Time</h3></th>
                            <th><h3>Edited Count</h3></th>
                        </tr>
                        {% for comment in answer_comments %}
                            {% if item['id'] == comment['answer_id'] %}
                                <tr>
                                    <td>{{ comment['message'] }}</td>
                                    <td>{{ comment['submission_time'] }}</td>
                                    {% if comment['edited_count'] != None %}
                                        <td>Edited {{ comment['edited_count'] }} time(s).</td>
                                    {% else %}
                                        <td>Edited 0 times.</td>
                                    {% endif %}
                                    <td><form action="/comment/{{ comment['id'] }}/edit"><button type="submit">Edit Comment</button></form></td>
                                    <td><form action="/comment/{{ comment['id'] }}/delete"><button type="submit">Delete Comment</button></form></td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </table>
                {% endif %}
            {% endfor %}


        </div></div>
    <form action="/question/{{ question_id }}/new-answer">
        <button type="submit">Add New Answer</button>
    </form>
    <form action="/list">
        <button type="submit">Go Back to Main Page</button>
    </form>
</body>
</html>